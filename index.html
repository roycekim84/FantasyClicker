<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Fantasy Clicker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game">
      <header class="topbar">
        <div class="stats-row">
          <div class="stat"><span class="label" data-i18n="ui.gold"></span> <span id="gold">0</span></div>
          <div class="stat"><span class="label" data-i18n="ui.honor"></span> <span id="honor">0</span></div>
          <div class="stat"><span class="label" data-i18n="ui.dmgMult"></span> <span id="dmg-mult">1.00x</span></div>
          <div class="stat"><span class="label" data-i18n="ui.zone"></span> <span id="zone">1</span></div>
          <div class="stat"><span class="label" data-i18n="ui.kills"></span> <span id="kills">0</span></div>
          <div class="stat"><span class="label" data-i18n="ui.title"></span> <span id="title-display">-</span></div>
          <div class="stat boss" id="boss-indicator"></div>
        </div>
        <div class="header-actions">
          <div class="lang-toggle">
            <button class="small" data-action="set-lang" data-lang="en">EN</button>
            <button class="small" data-action="set-lang" data-lang="ko">KO</button>
          </div>
          <button class="small" id="session-report" data-test="session" data-i18n="ui.session"></button>
          <button class="small" id="save" data-test="save" data-i18n="ui.save"></button>
          <button class="small" id="reset" data-test="reset" data-i18n="ui.reset"></button>
          <button class="prestige" id="prestige" data-test="prestige" data-i18n="ui.prestige"></button>
        </div>
      </header>

      <main class="layout">
        <section class="panel monster-panel" id="monster-panel">
          <div class="region-info">
            <div class="region-name" id="region-name">-</div>
            <div class="region-sub" id="region-sub">-</div>
          </div>
          <div class="banner" id="banner"></div>
          <div class="monster-header">
            <div>
              <div class="monster-name" id="monster-name">-</div>
              <div class="monster-type" id="monster-type">-</div>
              <div class="chapter-next" id="chapter-next">-</div>
            </div>
            <div class="hp-text" id="hp-text">0 / 0</div>
          </div>
          <div class="combo" id="combo-display">-</div>
          <div class="hp-bar">
            <div class="hp-fill" id="hp-fill"></div>
          </div>
          <div class="event-banner" id="event-banner">
            <span id="event-name">-</span>
            <span id="event-timer">-</span>
          </div>
          <div class="monster-area" id="monster-area">
            <button id="monster" class="monster" aria-label="Monster">
              <div class="sprite"></div>
            </button>
            <button id="weak-point" class="weak-point" aria-label="Weak Point"></button>
            <div class="floating-layer" id="floating-layer"></div>
            <div class="fx-layer" id="fx-layer"></div>
          </div>
          <div class="hint" data-i18n="ui.clickHint"></div>
        </section>

        <section class="controls">
          <div class="tabs" role="tablist">
            <button class="tab-button is-active" data-tab="shop" data-test="tab-shop" role="tab" data-i18n="tabs.shop"></button>
            <button class="tab-button" data-tab="inventory" data-test="tab-inventory" role="tab" data-i18n="tabs.inventory"></button>
            <button class="tab-button" data-tab="runes" data-test="tab-runes" role="tab" data-i18n="tabs.runes"></button>
            <button class="tab-button" data-tab="quests" data-test="tab-quests" role="tab" data-i18n="tabs.quests"></button>
            <button class="tab-button" data-tab="achievements" data-test="tab-achievements" role="tab" data-i18n="tabs.achievements"></button>
            <button class="tab-button" data-tab="collections" data-test="tab-collections" role="tab" data-i18n="tabs.collections"></button>
            <button class="tab-button" data-tab="settings" data-test="tab-settings" role="tab" data-i18n="tabs.settings"></button>
            <button class="tab-button" data-tab="log" data-test="tab-log" role="tab" data-i18n="tabs.log"></button>
          </div>

          <div class="tab-panels">
            <section class="panel tab-panel is-active" data-tab-panel="shop">
              <div class="stats compact-list">
                <div class="stat-row"><span data-i18n="ui.clickDamage"></span><span id="click-dmg">1</span></div>
                <div class="stat-row"><span data-i18n="ui.autoDps"></span><span id="auto-dps">0</span></div>
                <div class="stat-row"><span data-i18n="ui.critChance"></span><span id="crit-chance">0%</span></div>
                <div class="stat-row"><span data-i18n="ui.critMult"></span><span id="crit-multi">1.5x</span></div>
                <div class="stat-row"><span data-i18n="ui.goldBonus"></span><span id="gold-bonus">0%</span></div>
                <div class="stat-row"><span data-i18n="ui.zoneProgress"></span><span id="zone-progress">0 / 25</span></div>
              </div>
              <div class="skill-box">
                <div class="skill-title" id="skill-title">-</div>
                <div class="skill-desc ellipsis" id="skill-desc">-</div>
                <button class="skill" id="skill-activate" data-test="skill-activate" data-i18n="ui.activate"></button>
                <div class="skill-timer" id="skill-timer">-</div>
                <div class="skill-select">
                  <button class="small" data-skill="power" data-test="skill-power"></button>
                  <button class="small" data-skill="cry" data-test="skill-cry"></button>
                </div>
              </div>
              <div class="shop-panel">
                <h2 data-i18n="ui.upgrades"></h2>
                <div class="scroll-panel" id="upgrades-scroll">
                  <div class="upgrade" id="upg-click">
                    <div class="upgrade-info">
                      <div class="title" data-i18n="upgrades.sword.title"></div>
                      <div class="desc ellipsis" data-i18n="upgrades.sword.desc"></div>
                      <div class="level"><span data-i18n="ui.level"></span>: <span id="lvl-click">0</span></div>
                    </div>
                    <button class="buy" id="buy-click" data-test="buy-click"><span class="btn-label" data-i18n="ui.buy"></span> (<span id="cost-click">0</span>)</button>
                  </div>

                  <div class="upgrade" id="upg-auto">
                    <div class="upgrade-info">
                      <div class="title" data-i18n="upgrades.merc.title"></div>
                      <div class="desc ellipsis" data-i18n="upgrades.merc.desc"></div>
                      <div class="level"><span data-i18n="ui.level"></span>: <span id="lvl-auto">0</span></div>
                    </div>
                    <button class="buy" id="buy-auto" data-test="buy-auto"><span class="btn-label" data-i18n="ui.buy"></span> (<span id="cost-auto">0</span>)</button>
                  </div>

                  <div class="upgrade" id="upg-crit">
                    <div class="upgrade-info">
                      <div class="title" data-i18n="upgrades.edge.title"></div>
                      <div class="desc ellipsis" data-i18n="upgrades.edge.desc"></div>
                      <div class="level"><span data-i18n="ui.level"></span>: <span id="lvl-crit">0</span></div>
                    </div>
                    <button class="buy" id="buy-crit" data-test="buy-crit"><span class="btn-label" data-i18n="ui.buy"></span> (<span id="cost-crit">0</span>)</button>
                  </div>

                  <div class="upgrade" id="upg-multi">
                    <div class="upgrade-info">
                      <div class="title" data-i18n="upgrades.swing.title"></div>
                      <div class="desc ellipsis" data-i18n="upgrades.swing.desc"></div>
                      <div class="level"><span data-i18n="ui.level"></span>: <span id="lvl-multi">0</span></div>
                    </div>
                    <button class="buy" id="buy-multi" data-test="buy-multi"><span class="btn-label" data-i18n="ui.buy"></span> (<span id="cost-multi">0</span>)</button>
                  </div>
                </div>
              </div>
              <div class="tutorial" id="tutorial-box">
                <div class="tutorial-title" id="tutorial-title"></div>
                <div class="tutorial-text" id="tutorial-text"></div>
                <div class="tutorial-actions">
                  <button class="small" data-action="tutorial-next" id="tutorial-next"></button>
                  <button class="small" data-action="tutorial-skip" id="tutorial-skip"></button>
                </div>
              </div>
            </section>

            <section class="panel tab-panel" data-tab-panel="inventory" id="inventory-panel">
              <div class="equip-panel">
                <div class="equipped-summary">
                  <div class="equipped-slot">
                    <div class="slot-title" data-i18n="ui.weaponSlot"></div>
                    <div class="slot-body">
                      <div class="equip-tile" id="equipped-weapon-tile"></div>
                      <div class="slot-text">
                        <div class="equipped-name" id="equipped-weapon-name">-</div>
                        <div class="equipped-stat" id="equipped-weapon-stat">-</div>
                      </div>
                    </div>
                    <div class="slot-actions">
                      <button id="unequip-weapon" class="small" data-action="unequip-weapon" data-test="unequip-weapon" data-i18n="ui.unequip"></button>
                    </div>
                  </div>
                  <div class="equipped-slot">
                    <div class="slot-title" data-i18n="ui.relicSlot"></div>
                    <div class="slot-body">
                      <div class="equip-tile" id="equipped-relic-tile"></div>
                      <div class="slot-text">
                        <div class="equipped-name" id="equipped-relic-name">-</div>
                        <div class="equipped-stat" id="equipped-relic-stat">-</div>
                        <div class="rune-line">
                          <div class="equip-tile" id="equipped-rune-tile"></div>
                          <div class="rune-text">
                            <div class="rune-pill" id="equipped-rune-name">-</div>
                            <div class="rune-stat" id="equipped-rune-stat">-</div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="slot-actions">
                      <button id="unequip-relic" class="small" data-action="unequip-relic" data-test="unequip-relic" data-i18n="ui.unequip"></button>
                      <button id="unequip-rune" class="small" data-action="unequip-rune" data-test="unequip-rune" data-i18n="ui.removeRune"></button>
                    </div>
                  </div>
                </div>
                <div class="inventory-title" data-i18n="ui.inventory"></div>
                <div class="scrollbox">
                  <div class="scroll-panel grid" id="inventory-list"></div>
                </div>
              </div>
            </section>

            <section class="panel tab-panel runes-panel" data-tab-panel="runes" id="runes-panel">
              <div class="rune-section">
                <div class="rune-header">
                  <h2 data-i18n="ui.runeShop"></h2>
                  <button id="rune-refresh" class="small" data-action="refresh-rune-shop" data-test="rune-refresh"></button>
                </div>
                <div class="scrollbox">
                  <div class="scroll-panel rune-offer-grid" id="rune-shop-list"></div>
                </div>
              </div>
              <div class="rune-section">
                <div class="rune-header">
                  <h2 data-i18n="ui.runePouch"></h2>
                </div>
                <div class="rune-fusion">
                  <div class="rune-header">
                    <h3 data-i18n="ui.runeFusion"></h3>
                    <button id="fuse-runes" class="small" data-action="fuse-runes"></button>
                  </div>
                  <div class="stat" id="fusion-status">-</div>
                </div>
                <div class="scrollbox">
                  <div class="scroll-panel grid" id="rune-inventory-list"></div>
                </div>
              </div>
            </section>

            <section class="panel tab-panel" data-tab-panel="quests" id="quests-panel">
              <div class="quest-header">
                <h2 data-i18n="tabs.quests"></h2>
                <div class="quest-tools">
                  <div class="quest-reset" id="weekly-reset">-</div>
                  <button id="reroll" class="small" data-action="reroll-quest" data-test="reroll"></button>
                </div>
              </div>
              <div class="quest-fixed">
                <div class="quest-fixed-card">
                  <div class="quest-subtitle" data-i18n="ui.weekly"></div>
                  <div id="weekly-quest"></div>
                </div>
                <div class="quest-fixed-card">
                  <div class="quest-subtitle" data-i18n="ui.chain"></div>
                  <div id="chain-quest"></div>
                </div>
              </div>
              <div class="quest-section quest-list-section">
                <div class="quest-subtitle" data-i18n="ui.regularQuests"></div>
                <div class="scrollbox">
                  <div class="scroll-panel" id="quest-list"></div>
                </div>
              </div>
            </section>

            <section class="panel tab-panel" data-tab-panel="achievements">
              <div class="achievement-header">
                <h2 data-i18n="tabs.achievements"></h2>
                <div class="achievement-filters">
                  <button class="small is-active" data-filter="all" data-i18n="ui.all"></button>
                  <button class="small" data-filter="unlocked" data-i18n="ui.unlocked"></button>
                  <button class="small" data-filter="locked" data-i18n="ui.locked"></button>
                </div>
              </div>
              <div class="title-select">
                <label for="title-select" data-i18n="ui.equipTitle"></label>
                <select id="title-select"></select>
              </div>
              <div class="scroll-panel" id="achievement-list"></div>
            </section>

            <section class="panel tab-panel" data-tab-panel="collections">
              <h2 data-i18n="tabs.collections"></h2>
              <div class="collection-summary" id="collection-summary">-</div>
              <div class="collection-bonus" id="collection-bonus">-</div>
              <div class="scroll-panel" id="collection-list"></div>
            </section>

            <section class="panel tab-panel" data-tab-panel="settings" id="settings-panel">
              <h2 data-i18n="tabs.settings"></h2>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.language"></div>
                <div class="settings-controls">
                  <button class="small" data-action="set-lang" data-lang="en">EN</button>
                  <button class="small" data-action="set-lang" data-lang="ko">KO</button>
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.numberFormat"></div>
                <div class="settings-controls">
                  <button class="small" data-action="set-numfmt" data-value="full"></button>
                  <button class="small" data-action="set-numfmt" data-value="abbr"></button>
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.reduceFx"></div>
                <div class="settings-controls">
                  <button class="small" data-action="set-reducedfx" data-value="on"></button>
                  <button class="small" data-action="set-reducedfx" data-value="off"></button>
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.sfx"></div>
                <div class="settings-controls">
                  <button class="small" id="sfx-toggle" data-action="toggle-sfx"></button>
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.sfxVolume"></div>
                <div class="settings-controls">
                  <input id="sfx-volume" type="range" min="0" max="100" step="1" />
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.compact"></div>
                <div class="settings-controls">
                  <button class="small" data-action="toggle-compact"></button>
                </div>
              </div>
              <div class="settings-row">
                <div class="settings-label" data-i18n="settings.devMode"></div>
                <div class="settings-controls">
                  <button class="small" data-action="toggle-dev"></button>
                </div>
              </div>
            </section>

            <section class="panel tab-panel" data-tab-panel="log">
              <h2 data-i18n="tabs.log"></h2>
              <div class="scroll-panel log-scroll" id="log-list"></div>
              <div class="dev-panel" id="dev-panel">
                <h2 data-i18n="ui.devPanel"></h2>
                <div class="dev-info" id="dev-info"></div>
                <div class="dev-actions">
                  <button class="small" id="dev-gold" data-test="dev-gold" data-i18n="ui.devGold"></button>
                  <button class="small" id="dev-zone" data-test="dev-zone" data-i18n="ui.devZone"></button>
                  <button class="small" id="dev-boss" data-test="dev-boss" data-i18n="ui.devBoss"></button>
                </div>
                <div class="dev-actions">
                  <button class="small" id="export-save" data-test="export" data-i18n="ui.export"></button>
                  <button class="small" id="import-save" data-test="import" data-i18n="ui.import"></button>
                  <button class="small" id="run-tests" data-test="run-tests" data-i18n="ui.runTests"></button>
                </div>
                <div class="dev-actions">
                  <button class="small" id="click-check" data-i18n="ui.clickCheckOff"></button>
                </div>
                <div class="test-results" id="test-results"></div>
              </div>
            </section>
          </div>
        </section>
      </main>
    </div>

    <div class="modal" id="offline-modal">
      <div class="modal-content">
        <h2 data-i18n="ui.welcomeBack"></h2>
        <p id="offline-text">-</p>
        <button id="offline-close" class="small" data-i18n="ui.continue"></button>
      </div>
    </div>

    <div class="modal" id="session-modal">
      <div class="modal-content">
        <h2 data-i18n="ui.sessionReport"></h2>
        <div id="session-content"></div>
        <button id="session-close" class="small" data-i18n="ui.close"></button>
      </div>
    </div>

    <div class="modal" id="save-modal">
      <div class="modal-content">
        <h2 data-i18n="ui.exportImport"></h2>
        <textarea id="save-text" rows="8"></textarea>
        <div class="modal-actions">
          <button id="save-copy" class="small" data-i18n="ui.copy"></button>
          <button id="save-apply" class="small" data-i18n="ui.import"></button>
          <button id="save-close" class="small" data-i18n="ui.close"></button>
        </div>
      </div>
    </div>
    <div class="tooltip" id="tooltip"></div>

    <script src="content.js"></script>
    <script src="game.js"></script>
  </body>
</html>
